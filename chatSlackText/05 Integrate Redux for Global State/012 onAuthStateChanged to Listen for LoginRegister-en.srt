1
00:00:00,750 --> 00:00:06,280
Users can now log in or register with in or out and once they do we can see their user data and the

2
00:00:06,290 --> 00:00:08,670
consul can see the loading say.

3
00:00:08,840 --> 00:00:13,480
Now we want to take them somewhere once they're authenticated and particular to the app component which

4
00:00:13,480 --> 00:00:15,140
is where our chat will live.

5
00:00:17,390 --> 00:00:23,030
To implement this will go to index dot J.S. and we'll bring in firebase are going to be using a listener

6
00:00:23,030 --> 00:00:28,510
from firebase which will be able to detect whether a user has recently logged in or registered within

7
00:00:28,510 --> 00:00:33,830
our app and changed the route component to a staple component.

8
00:00:33,830 --> 00:00:38,810
So will change constitute class a classroom will extend reactor component

9
00:00:41,850 --> 00:00:48,230
we'll have a render function and will bring in everything that we previously returned all of the routes.

10
00:00:48,530 --> 00:00:57,610
We'll bring that within our render function and just pop the return key word in front of that and as

11
00:00:57,610 --> 00:01:00,910
I mentioned we're going to execute a listener.

12
00:01:01,090 --> 00:01:09,560
We'll do that when this root component mounts we'll use the component mount lifecycle method for this.

13
00:01:09,580 --> 00:01:15,540
So when our route component mounts we're going to run by based on our on our state changes as a listener

14
00:01:15,550 --> 00:01:21,190
which is going to detect whether we have a user in our app and we'll set up a conditional say if we

15
00:01:21,190 --> 00:01:29,020
have a user if fire bases detected the user are going to want to redirect them to our home route.

16
00:01:29,080 --> 00:01:32,960
We'll do that with reactor Don using the history object.

17
00:01:33,030 --> 00:01:37,540
This stopped prox history of push to the route route.

18
00:01:37,770 --> 00:01:45,090
If we save that you can see in our consul we're getting this air cannot read Property push up undefined.

19
00:01:45,350 --> 00:01:52,640
So trying to make use of the history object to redirect outside of our routes or first need the higher

20
00:01:52,640 --> 00:01:58,910
order component with router from reactor at her dorm to put the history object within our root component.

21
00:01:58,910 --> 00:02:06,020
So create a new variable called root with off and or wrap root with the with router higher order component

22
00:02:07,940 --> 00:02:10,280
will also grab the router tags

23
00:02:13,290 --> 00:02:16,510
and or wrap this new component that we just created.

24
00:02:17,650 --> 00:02:19,690
Within render with router

25
00:02:22,540 --> 00:02:25,730
so we can only redirect when or within a router.

26
00:02:26,150 --> 00:02:35,290
No change the route that we're rendering to now with off to include the with router H.M.S..

27
00:02:35,340 --> 00:02:37,950
So now we can redirect once we have a user.

28
00:02:38,040 --> 00:02:42,390
Now if we go back to our page you can see we're currently on the component.

29
00:02:42,520 --> 00:02:51,640
We go back to log in and try to visit log in but will immediately be taken back to to our Since we're

30
00:02:51,640 --> 00:02:52,670
now logged in.

31
00:02:52,930 --> 00:02:57,310
And if we go to register that listener will do the same or just redirect us.

