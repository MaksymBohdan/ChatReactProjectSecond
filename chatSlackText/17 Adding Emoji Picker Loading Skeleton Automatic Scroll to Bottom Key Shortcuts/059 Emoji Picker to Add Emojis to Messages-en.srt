1
00:00:00,200 --> 00:00:06,150
Nelse out or a Moji picker when they click on this plus button next to your message input in order to

2
00:00:06,180 --> 00:00:15,300
add emerges to our messages to the message form and up at the top we'll import a couple of things from

3
00:00:15,300 --> 00:00:24,720
the package Moji mark or grab first the emoji picker and emoji index and we want to bring in the related

4
00:00:24,750 --> 00:00:33,020
tiles for that for the picker from a Moji Mark ICSA us slash emerging markets USS then we'll head down

5
00:00:35,020 --> 00:00:42,970
to our message and put in on the label Propp will add an on click to the button within it set to handle

6
00:00:42,970 --> 00:00:50,370
toggle picker for this new function which will create underneath and key down

7
00:00:53,360 --> 00:00:57,340
will toggle the emoji picker that we brought in.

8
00:00:57,410 --> 00:01:08,820
So we'll set the property on state called a Moji picker will be the opposite value of Moji picker so

9
00:01:08,840 --> 00:01:15,660
we'll set that within state to initial value of falls and then we'll head back down

10
00:01:18,510 --> 00:01:27,650
and restructure this new emerging Pichler property from state within Rander and will now show the Moji

11
00:01:27,650 --> 00:01:34,940
picker component conditionally based on the value of this emoji picker value and state.

12
00:01:35,110 --> 00:01:38,560
So have our picker component with a set of a Moji set to Apple.

13
00:01:38,600 --> 00:01:44,750
So have the Apple M-O GS will attach a class name to it of Moji picker which will create will give it

14
00:01:44,780 --> 00:01:55,040
a title value of pick your Moji and will include an emoji point next to the title.

15
00:01:55,130 --> 00:02:05,090
Now let's create or emoji picker class and applets VSS or you just want to set position to absolute

16
00:02:06,030 --> 00:02:07,690
will save both of our files.

17
00:02:11,090 --> 00:02:14,120
And we'll click on the plus button.

18
00:02:14,180 --> 00:02:18,140
Now I can see our Moji picker component.

19
00:02:19,130 --> 00:02:22,000
So we have a big set of images to pick from.

20
00:02:22,010 --> 00:02:27,370
We have our title pick your emoji and these are all of the apple emojis.

21
00:02:27,620 --> 00:02:31,770
You can pick another set if you like but we'll stick with Apple

22
00:02:35,120 --> 00:02:39,230
and we'll add another prop to the picker component called on select.

23
00:02:39,230 --> 00:02:47,060
This will allow us to add a new emoji to the message that we're adding so that all reference a new function

24
00:02:47,060 --> 00:02:55,620
called handle added Moji it'll take the emoji that we're selecting from the emoji picker.

25
00:02:55,880 --> 00:03:00,870
And within the function or Herst create a variable called Old message to reference the message value

26
00:03:00,890 --> 00:03:08,700
and state and will create a new message variable which will execute a function called colon to Unicode.

27
00:03:10,880 --> 00:03:21,640
We'll take within template literals the old message and interpolate the old message value and put a

28
00:03:21,650 --> 00:03:32,250
space at the beginning of it and in between our next value which will interplay of emerging dark Colon's.

29
00:03:32,930 --> 00:03:37,910
So referencing a Kolins property on the Moji object that we're passing this function we're going to

30
00:03:37,910 --> 00:03:44,660
set the state will set the message property to Cornu message value and close the Moji picker by setting

31
00:03:45,060 --> 00:03:47,980
the Moji picker to false.

32
00:03:48,050 --> 00:03:51,320
Now I'm going to paste in the code for the colon to Unicode function.

33
00:03:51,350 --> 00:03:59,360
It basically takes our message and converts that emoji Colon's value to a Unicode using the emoji index

34
00:04:00,290 --> 00:04:02,500
tool that we imported.

35
00:04:02,680 --> 00:04:10,510
So you can copy the code as you see it here or get it and the final code attached to this video.

36
00:04:10,690 --> 00:04:22,870
And now when we save all the changes we made and we try adding a message like hello and selecting an

37
00:04:22,870 --> 00:04:28,570
emoji you can see it show up within our input and very quick on our reply.

38
00:04:28,630 --> 00:04:32,700
You can see it's added to the channel that we specified.

39
00:04:36,230 --> 00:04:41,620
Now you'll notice that if we select an emoji we don't have the input focused.

40
00:04:41,780 --> 00:04:48,510
After we do so so we want to fix that to focus the input again after we select an emoji.

41
00:04:49,800 --> 00:04:53,250
I heading down to our input once again

42
00:04:56,940 --> 00:04:59,350
and we'll put a ref on it.

43
00:05:00,790 --> 00:05:06,670
Which one is it going to include an inline function or pass through this no value and set it equal to

44
00:05:06,940 --> 00:05:11,870
this message input ref value which we're putting on our class.

45
00:05:11,920 --> 00:05:16,110
So now we can reference it and use it to focus our input.

46
00:05:16,990 --> 00:05:26,130
So then handle added Moji we're going to add a set time out or within the body of the set time.

47
00:05:26,180 --> 00:05:33,020
We're going to call this our message input wrapped up focus to focus the input after 0 milliseconds

48
00:05:33,200 --> 00:05:39,820
so that it runs immediately after our set state.

49
00:05:40,110 --> 00:05:41,190
Then on the label

50
00:05:45,720 --> 00:05:52,950
for the button that we supplied to the label prop of our input we're going to change the icon value

51
00:05:52,950 --> 00:05:57,810
to a turn Airey if a Moji picker's set to true.

52
00:05:57,870 --> 00:06:05,640
We're going to give it an icon of clothes otherwise an icon of ADD and to the content Propp will set

53
00:06:05,640 --> 00:06:12,180
up a similar to an area where if a Moji picker set to true will have the text of clothes or the text

54
00:06:12,180 --> 00:06:14,730
of no.

55
00:06:14,930 --> 00:06:19,850
If it's false We'll save our file once again.

56
00:06:22,710 --> 00:06:26,910
We'll head back to our and see how this works.

57
00:06:26,920 --> 00:06:27,180
Now

58
00:06:31,740 --> 00:06:41,610
we'll toggle the emoji picker We'll select an emoji we see are close text and now our input is refocussed.

59
00:06:41,630 --> 00:06:47,960
After adding an emoji so you can add more text without having to click on the input.

60
00:06:48,260 --> 00:06:51,340
And of course we can add a reply as usual.

