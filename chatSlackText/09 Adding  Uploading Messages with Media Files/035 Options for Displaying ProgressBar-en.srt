1
00:00:00,690 --> 00:00:07,150
There's one small thing to note whenever we add a new image file to a channel when we upload a file

2
00:00:08,650 --> 00:00:14,680
by choosing it and hitting send I can see that our progress for as to the height of our message for

3
00:00:14,680 --> 00:00:22,330
him and it gets in the way of our messages section in order to change that behavior.

4
00:00:22,360 --> 00:00:27,880
The first approach would be to go to the progress bar and only show the progress bar whenever the upload

5
00:00:27,880 --> 00:00:32,260
state or passing as a prop is set to the text uploading.

6
00:00:32,260 --> 00:00:39,860
So as long as the images being uploaded will show the progress Barbeau once it's done it will go away.

7
00:00:39,880 --> 00:00:42,140
That is the approach that I'll use.

8
00:00:42,310 --> 00:00:43,600
And just to demonstrate this

9
00:00:47,060 --> 00:00:48,070
choose another image

10
00:00:51,140 --> 00:00:57,630
or hit send and the progress bar only sticks around as long as the image was uploading.

11
00:00:57,740 --> 00:01:01,420
Now another post that you can take if you want the progress bar to stick around.

12
00:01:03,900 --> 00:01:15,280
Or remove that conditional is to change the class of the messages complier the messages section so head

13
00:01:15,280 --> 00:01:17,740
to our Aptos CSSA file.

14
00:01:17,850 --> 00:01:19,990
We have our messages class here.

15
00:01:20,380 --> 00:01:27,060
We add another class or if we have our progress bar we're going to use the class of messages underscore

16
00:01:27,060 --> 00:01:34,970
or underscore progress and or change the height of our messages or original messages class to 62 new

17
00:01:35,030 --> 00:01:40,780
height give it a responsive height and the message is progress.

18
00:01:40,780 --> 00:01:47,290
Class will have a height of 58 height so a bit smaller.

19
00:01:47,390 --> 00:01:54,380
So based on whether there's a progress bar you're going to use one class or another we'll do this with

20
00:01:55,700 --> 00:02:01,890
a conditional check to see if there's a progress bar or use the class messages progress.

21
00:02:01,910 --> 00:02:04,270
Otherwise we use the message as class

22
00:02:07,720 --> 00:02:15,170
or create a function within our messages component called is progress for visible.

23
00:02:15,190 --> 00:02:19,900
It's going to take the percent of the upload and it's going to check to see if percent greater than

24
00:02:19,900 --> 00:02:20,250
zero.

25
00:02:20,290 --> 00:02:26,750
And if so it's going to set the state of messages specifically the progress for property to True.

26
00:02:26,890 --> 00:02:30,110
So create a progress for property.

27
00:02:30,190 --> 00:02:37,740
She'll tell us if we have a progress bar or not will initially be set to false.

28
00:02:37,980 --> 00:02:42,940
And then we can pass is progress bar visible down as a prompt to message form

29
00:02:47,600 --> 00:02:54,900
and within message form within our state change listener will execute it.

30
00:02:55,080 --> 00:02:57,350
If this process is progress for visible

31
00:03:00,430 --> 00:03:09,050
we will pass in percent uploaded that function and it change the state of the parent component of the

32
00:03:09,050 --> 00:03:10,470
messages component accordingly

33
00:03:14,560 --> 00:03:22,330
within the Render of messages we need to structure the progress bar property so that our class name

34
00:03:22,330 --> 00:03:23,450
ternary will work.

35
00:03:24,550 --> 00:03:25,740
We save all of our files

36
00:03:29,310 --> 00:03:39,050
and head back to our try uploading another media file or hit send.

37
00:03:39,150 --> 00:03:40,640
We take a look at the messages section.

38
00:03:40,640 --> 00:03:47,030
It was pulled up a bit since it has a smaller height and now there's a space between our messages component

39
00:03:47,090 --> 00:03:49,150
and our messages form.

