1
00:00:00,480 --> 00:00:05,390
Let's add functionality to our register form so a user can fill it out and register for our app.

2
00:00:05,430 --> 00:00:10,320
We'll begin with the handle change function which we attach to every input via the onchange handler.

3
00:00:10,410 --> 00:00:16,830
We're going to pass through the event object and using the data on this object whenever there is a change

4
00:00:16,830 --> 00:00:22,860
event we're going to set the stage and we want to set properties within state that correspond to these

5
00:00:23,130 --> 00:00:25,650
name attributes that we set for each of the inputs.

6
00:00:25,860 --> 00:00:32,910
So to get the name of a given input or users type again we'll do it with event that target that name

7
00:00:35,420 --> 00:00:42,140
and the value that the user has typed into a given input all access with event or target value and within

8
00:00:42,140 --> 00:00:49,190
state we want properties that correspond to each of the values that we set to the Name property so it

9
00:00:49,190 --> 00:00:52,380
will be user name email password and password confirmation.

10
00:00:52,390 --> 00:00:58,290
We'll set those all to an empty string and back in our app we can right click and hit and Spack to open

11
00:00:58,290 --> 00:00:59,020
our console.

12
00:00:59,040 --> 00:01:05,130
You can alternatively hit Option Command and Jay or I will hit the arrow up at the top and go to our

13
00:01:05,130 --> 00:01:10,970
re-act Deb tools will then search for our register component.

14
00:01:10,990 --> 00:01:15,660
Now I can see the state object with all the properties that we put in there.

15
00:01:15,790 --> 00:01:17,390
We type into each one of these inputs.

16
00:01:17,440 --> 00:01:22,440
We should see the corresponding property in state updated.

17
00:01:23,050 --> 00:01:28,630
Now we want to make it so a user can hit submit when they filled out all the fields and actually register

18
00:01:28,630 --> 00:01:29,140
themselves

19
00:01:31,970 --> 00:01:36,130
with first touch on an optional step that we can perform.

20
00:01:36,130 --> 00:01:41,770
We can do structure all of the values from the state object and pass them down to our individual inputs

21
00:01:43,380 --> 00:01:51,040
will grab the user name email password and password confirmation from state using object destructuring

22
00:01:51,700 --> 00:01:58,290
and we'll pass each of those to their respective input via the value prop.

23
00:01:58,330 --> 00:02:06,060
The purpose of doing this of passing the value of a given input back to its input component is that

24
00:02:06,060 --> 00:02:07,330
when we set the state.

25
00:02:07,330 --> 00:02:12,960
For example if we set the state of each one of these properties to say an empty string we can clear

26
00:02:13,290 --> 00:02:22,520
any of the values that a user has typed in to their form that allows us to clear our form and on the

27
00:02:22,520 --> 00:02:28,460
form component we're going to add an on submit handler and we're going to connect it to the handle submit

28
00:02:28,460 --> 00:02:32,760
function that we're going to create right underneath handle change.

29
00:02:32,830 --> 00:02:40,780
It will also take the event and we're going to call a method on event they we're getting called prevent

30
00:02:40,780 --> 00:02:48,470
default to prevent the default action sending a form which is to reload the page.

31
00:02:48,660 --> 00:02:56,930
And now we want to import firebase from our firebase file includes all of our configuration and the

32
00:02:56,930 --> 00:03:05,820
imported packages the sub dependencies and in particular we're going to want to grab and use the firebase

33
00:03:05,910 --> 00:03:09,360
slash off dependency.

34
00:03:09,490 --> 00:03:11,710
So we're going to get firebase from two levels of

35
00:03:15,150 --> 00:03:20,550
so now we can use it within handle submit.

36
00:03:20,550 --> 00:03:25,290
We're going to first call the author method to make use of all the authorization tools and then we're

37
00:03:25,290 --> 00:03:31,990
going to create user with email and password and to this all we need to do to register a user is to

38
00:03:31,990 --> 00:03:38,750
pass in the value that a user supplied for the e-mail input and the password input.

39
00:03:40,010 --> 00:03:44,120
From state start state or email mistaught state or password.

40
00:03:44,120 --> 00:03:51,110
And since this is a promise we can within a then statement we can get back the user that's created by

41
00:03:51,110 --> 00:03:52,890
firebase.

42
00:03:52,990 --> 00:03:56,920
And for now we'll just log that as created user.

43
00:03:57,120 --> 00:04:03,690
And after that then we'll catch any errors with this catch statement we'll pass through any errors to

44
00:04:04,270 --> 00:04:16,300
a simple console that error will save that Adoor consul from our dev tools and we'll sign up register

45
00:04:16,300 --> 00:04:21,880
with a user write a username email password and password confirmation.

46
00:04:22,080 --> 00:04:27,920
And when we hit submit we see the con. we're getting an error.

47
00:04:28,140 --> 00:04:33,410
We're getting a 400 air and in particular we're getting a message that tells us that the given sign

48
00:04:33,410 --> 00:04:38,240
and provider is disabled and that we need to enable it within the firebase console.

49
00:04:38,240 --> 00:04:44,960
So we're trying to sign in using the sign in provider to enable that we need to go to the authentication

50
00:04:44,960 --> 00:04:51,230
tab within our firebase console and click on this button set up sign in method.

51
00:04:52,870 --> 00:04:55,620
And appear next to the email and password provider.

52
00:04:55,630 --> 00:05:03,620
Click on the pencil icon and we'll hit enable for this to enable sign ups with email and password.

53
00:05:04,110 --> 00:05:10,830
Now we can see the status for it is enabled can head back to our app and try submitting this form one

54
00:05:10,830 --> 00:05:13,560
more time to register our first user.

55
00:05:13,560 --> 00:05:14,720
It looks like it's successful.

56
00:05:14,730 --> 00:05:21,000
We get an object back with a number of properties additional user info credential operation type.

57
00:05:21,000 --> 00:05:27,980
All of the user info that we provided will be within this user property and includes a bunch of other

58
00:05:27,980 --> 00:05:28,670
stuff as well.

59
00:05:28,700 --> 00:05:34,520
So it includes the email that we provided to it as well as stuff like phone number photo you are all

60
00:05:34,940 --> 00:05:43,700
refreshed token a number of things we're making use of a number of these properties and later sections

61
00:05:43,700 --> 00:05:47,170
and updating them for a given user.

62
00:05:47,240 --> 00:05:48,320
And if we take a look at

63
00:05:51,460 --> 00:05:59,050
back in firebase in our panel the users tab we can see we have our first user here in this user table

64
00:06:00,010 --> 00:06:06,220
with the identifier the provider when it was created when the user signed in and their user ID.

