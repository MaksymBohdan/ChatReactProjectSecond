1
00:00:00,240 --> 00:00:06,450
Before we touch on our messages Hetter we first need to disable or upload media on as a media file as

2
00:00:06,450 --> 00:00:07,330
being uploaded.

3
00:00:09,110 --> 00:00:13,910
We go down to within message form the upload media button.

4
00:00:14,820 --> 00:00:24,260
We'll disable it when upload state is set to the text uploading so never disabling that when our files

5
00:00:24,260 --> 00:00:25,290
being uploaded.

6
00:00:25,430 --> 00:00:26,870
Now move on to our messages.

7
00:00:26,890 --> 00:00:31,790
However we want to dynamically change the name and number of users for the channel that we're currently

8
00:00:31,790 --> 00:00:37,920
on within the head or within messages will first create a function called display channel name.

9
00:00:38,220 --> 00:00:47,990
It's going to take in the channel and with a turn every are going to if there is a channel within a

10
00:00:47,990 --> 00:00:54,620
template literal display the channel name with channel name and prepend a hash mark in front of it.

11
00:00:54,620 --> 00:01:02,940
Otherwise there's no channel will just show an empty string or pass down the channel name prop to messages

12
00:01:02,940 --> 00:01:09,310
Hetter by executing display channel name bypassing in the channel that we have within our messages state.

13
00:01:10,960 --> 00:01:20,950
Then within messages Hetter all these structures props within Rander to grab channel name and replace

14
00:01:20,950 --> 00:01:27,840
our channel text with that value you can save both our files.

15
00:01:27,880 --> 00:01:33,580
Now I can see the name of our channel up at the top in the header when we click on it.

16
00:01:37,710 --> 00:01:40,980
Now we want to show the number of users that we have for a given channel.

17
00:01:40,990 --> 00:01:43,530
The number of unique users that we have.

18
00:01:43,650 --> 00:01:51,310
So we'll create a function that will execute within our ad message listener hold count unique users

19
00:01:51,600 --> 00:01:59,500
and pass it the loaded messages that loaded messages array that were adding values to your account unique

20
00:01:59,500 --> 00:02:02,080
users will take the messages or a

21
00:02:05,250 --> 00:02:07,960
will create a variable called unique users.

22
00:02:08,830 --> 00:02:14,230
And on this mess desir we're going to use the reduce method to an array method that allows us to get

23
00:02:14,230 --> 00:02:17,340
an accumulated value for a certain type of operation.

24
00:02:17,350 --> 00:02:23,950
So the first parameter to it will be the accumulator and then the value of the item that we're iterating

25
00:02:23,950 --> 00:02:29,590
over the message and the initial value of our accumulator will be this empty array that we specify at

26
00:02:29,590 --> 00:02:34,590
the very end of redos.

27
00:02:34,850 --> 00:02:43,740
First we'll set up a conditional to check to see if the accumulator array includes the value message

28
00:02:43,740 --> 00:02:45,210
that user doesn't name.

29
00:02:45,210 --> 00:02:51,090
If it doesn't include a certain user's name then we'll add it to our accumulator with the push method

30
00:02:51,570 --> 00:02:53,850
or push message that user name onto it.

31
00:02:53,850 --> 00:03:01,000
So we'll have an array of names within this accumulated array and then we'll make sure to return it

32
00:03:01,000 --> 00:03:01,540
at the end.

33
00:03:01,550 --> 00:03:06,510
It's very important return the accumulator for the end of reduce.

34
00:03:07,060 --> 00:03:12,370
Then we have our unique users array who create a variable called non-unique users the number of unique

35
00:03:12,370 --> 00:03:19,790
users will again use a template literal will interpret the length of the unique users.

36
00:03:19,870 --> 00:03:26,610
And then at the end add the text users so get the number of users unique users that we have and then

37
00:03:26,730 --> 00:03:35,420
set the local state by creating a property name of some unique users give the variable the same name

38
00:03:36,050 --> 00:03:42,290
of the property the same name as the variable that were creating initialized that to an empty string.

39
00:03:45,770 --> 00:03:53,420
Then we can begin our under the structure name unique users and pass it to our messages header as a

40
00:03:53,420 --> 00:03:53,780
prop

41
00:03:58,550 --> 00:04:09,370
and like with our channel name will grab name unique users from a proxy object or place that fixed value

42
00:04:09,370 --> 00:04:12,800
that we had with unique users.

43
00:04:12,970 --> 00:04:19,510
Save our files and backstrap and underneath our name the name of our channel can see the number of unique

44
00:04:19,510 --> 00:04:24,230
users who have created messages in a channel we can see for this Riak channel that we have incorrectly

45
00:04:24,300 --> 00:04:32,440
one users and sort of one user so we can detect whether users the text users should be plural not within

46
00:04:32,440 --> 00:04:36,830
our account unique users function by creating a variable called pleuro.

47
00:04:36,940 --> 00:04:40,200
Will check our unique users right.

48
00:04:40,220 --> 00:04:41,050
Its length.

49
00:04:41,060 --> 00:04:46,880
See if its greater than 1 or if unique users that length is equal to zero.

50
00:04:46,910 --> 00:04:54,590
In that case we want to add an s we want use to be plural or remove the ass and set up a turn every

51
00:04:57,060 --> 00:04:59,110
We'll check to see if plural is true.

52
00:04:59,130 --> 00:05:03,090
If so I hadn't asked otherwise for include an empty string.

53
00:05:03,270 --> 00:05:08,790
For example if we have one user one unique user we're only going to show the text one user instead of

54
00:05:08,910 --> 00:05:10,090
users plural.

