1
00:00:00,270 --> 00:00:04,980
The last section we created our user panel component which includes a dropdown or we have this sign

2
00:00:04,980 --> 00:00:06,390
out option.

3
00:00:06,390 --> 00:00:13,140
Now we want to add the functionality to that so when we click on it or redirect it to the log in page

4
00:00:13,680 --> 00:00:22,800
and our user is signed out so within the option for sign out within our dropdown point add an on click

5
00:00:22,800 --> 00:00:30,360
to the span and reference a function called handle sign out and the sign out or user are going to need

6
00:00:30,360 --> 00:00:35,430
firebase or import firebase up at the top.

7
00:00:36,810 --> 00:00:42,770
And it should be from two folders up.

8
00:00:42,880 --> 00:00:48,110
We use the art module again and we use a method on it called Sign out.

9
00:00:48,400 --> 00:00:55,450
So execute that and we can add on and then statement where once we once we sign out using firebase we

10
00:00:55,450 --> 00:01:00,890
can log the text find out if we save that

11
00:01:04,110 --> 00:01:06,730
and open our log.

12
00:01:06,840 --> 00:01:12,500
We select sign out when we're authenticated we see are signed out log in the console.

13
00:01:12,510 --> 00:01:17,160
Now if we try redirecting we're going manually to log in or out.

14
00:01:17,520 --> 00:01:20,200
We're just going to see this loading spinner.

15
00:01:20,300 --> 00:01:28,460
Now that's because we didn't set up a case within our state changed function within index us for when

16
00:01:28,610 --> 00:01:32,230
our user is not found by the listener.

17
00:01:32,230 --> 00:01:39,880
So in this health statement we want to push to the log in route and we want to create a new action which

18
00:01:39,880 --> 00:01:48,480
will clear our user from the global stage to do that will create a new action go to types first.

19
00:01:48,490 --> 00:01:54,220
We know we need to create a type for each action will create a type for clear user set to the steering

20
00:01:54,220 --> 00:02:02,720
clear user create a function of the same name within the index file over our actions folder.

21
00:02:04,430 --> 00:02:12,020
And a clear user won't take any arguments all it will do is it'll just return an object with the type

22
00:02:12,020 --> 00:02:21,670
of action types dot clear user referencing are clear clear user type then we'll head to our reducers

23
00:02:22,510 --> 00:02:24,350
go to our user reducer.

24
00:02:24,820 --> 00:02:31,600
We'll set up a new case for action types that clear a user or we want to return

25
00:02:34,960 --> 00:02:41,670
the initial user state where our current user is set to know to do that to spread all of the properties

26
00:02:41,670 --> 00:02:42,870
from our initial users to.

27
00:02:42,870 --> 00:02:49,400
We can just write this spread operator dot dot dot initial user state and set loading to false.

28
00:02:49,410 --> 00:02:55,070
So we're seeing loadings Vinter because we're not setting the loading to false.

29
00:02:55,090 --> 00:03:03,620
So now that we're calling clear user we can execute it on our prop's object if we bring it in for our

30
00:03:03,620 --> 00:03:17,960
actions folder and reference it within map dispatch to prop's within our K'NEX if we save that we head

31
00:03:17,960 --> 00:03:20,410
back to her app and refresh.

32
00:03:20,510 --> 00:03:26,720
We should now be able to see our log in page if we take a look at our redux step tools and see that

33
00:03:27,140 --> 00:03:36,850
our clear user action was executed where it just set loading to false and current user is no.

34
00:03:36,940 --> 00:03:38,410
If we log in again

35
00:03:41,390 --> 00:03:52,360
it submit or set user action sets or user data in state we can log out or sign out a clicking on sign

36
00:03:52,360 --> 00:03:57,600
out or redirected to log in our current user data set to know.

37
00:03:57,980 --> 00:04:03,380
And if we try going to the component we're pushed back automatically to the log in page.

